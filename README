&&&&&&&&&&&&&&&&&&
&&&&&&&&&&&&&&&&&&
&&&&& viewSq &&&&&
&&&&&&&&&&&&&&&&&&
&&&&&&&&&&&&&&&&&&


viewSq is a utility for calculating, analyzing, and visualizing static structure factors (S(q)) from trajectories produced using molecular dynamics (MD) or Monte Carlo (MC) simulations.

viewSq is copyrighted under the MIT license.

If you publish work which used viewSq, please cite: 


&&&&&&&&&&&&&&&&&&&&&&&&&
&&& FILE DESCRIPTIONS &&&
&&&&&&&&&&&&&&&&&&&&&&&&&


/viewSq/python/Calculate_rdf_stats_py.py -- Python file which performs initial viewSq calculations (e.g. code for radial distribution function calculations).

/viewSq/viewsq1.0/viewsq.tcl -- Tcl file containing all viewSq code not present in Calculate_rdf_stats_py.py (e.g. code for static structure factor calculations, user interface, queries to VMD).

/viewSq/viewsq1.0/pkgIndex.tcl -- Tcl file required to integrate viewSq into VMD GUI.

/viewSq/viewsq1.0/form_factors_neutron.csv -- CSV file containing neutron form factor parameters.

/viewSq/viewsq1.0/form_factors_xray.csv -- CSV file containing X-ray form factor parameters.

/viewSq/tutorials/spce_water/spce_final_frame.pdb -- PDB structure file containing the x,y,z coordinates of 3000 water atoms (i.e. 1000 water molecules). The coordinates were obtained from a single snapshot of a molecular dynamics simulation of SPC/E water.

/viewSq/tutorials/spce_water/elements.ndx -- Gromacs stype NDX file defining whether each of the 3000 water atoms are Hydrogen or Oxygen). This file is required for viewSq to perform its form factor weighted calculations, and a properly configured version of it must always accompany a simulation processed by viewSq.

/viewSq/tutorial.pdf -- PDF file containing instructions for running the included tutorial (single frame of SPC/E water).

/viewSq/README -- Text file containing viewSq overview, installation and usage instructions, etc.

/viewSq/README.md -- Markdown file containing contents of Github README.

/viewSq/LICENSE -- Text file containing viewSq license.


The below files are generated upon using viewSq (e.g. the tutorial or below quickstart guide).


/viewSq/tutorials/spce_water/Selected_Frames_Coordinates.dat -- The intermediate file used by the tcl script to communicate with the python script. The file is updated, for each frame in the calculation, with coordinates of all atoms in the frame.

/viewSq/tutorials/spce_water/GofRValues.txt -- The intermediate file generated by the python script to send the reuslts back to the tcl script. The file contains, aggregated counts of all atoms across all bins, counts contributed by each atom in each bin, and counts contributed by each atom pair in each bin.

/viewSq/tutorials/spce_water/neighbour_contributions_sq.dat -- The intermediate file created by tcl script to store the non form factor weighted S(q) contribution of each atom with each of its neighbors at each q.

/viewSq/tutorials/spce_water/neighbour_contributions_ff_sq.dat -- The intermediate file created by tcl script to store the form factor weighted S(q) contribution of each atom with each of its neighbors at each q.

/viewSq/tutorials/spce_water/neighbour_positive_contributions_sq.dat --  The intermediate file created by tcl script to store the positve component of non form factor weighted S(q) contribution of each atom with each of its neighbors at each q.

/viewSq/tutorials/spce_water/neighbour_positive_contributions_ff_sq.dat --  The intermediate file created by tcl script to store the  positve component of form factor weighted S(q) contribution of each atom with each of its neighbors at each q.

/viewSq/tutorials/spce_water/neighbour_negative_contributions_sq.dat --  The intermediate file created by tcl script to store the negative component of non form factor weighted S(q) contribution of each atom with each of its neighbors at each q.

/viewSq/tutorials/spce_water/neighbour_negative_contributions_ff_sq.dat --  The intermediate file created by tcl script to store negative component of the form factor weighted S(q) contribution of each atom with each of its neighbors at each q.


&&&&&&&&&&&&&&&&&&&&
&&& INSTALLATION &&&
&&&&&&&&&&&&&&&&&&&&


VMD must be installed prior to using viewSq. The VMD website may offer some 64-bit (strongly recommended) pre-compiled versions which can be downloaded:  https://www.ks.uiuc.edu/Development/Download/download.cgi?PackageName=VMD

There are installation instructions in the VMD README file or here: https://www.ks.uiuc.edu/Research/vmd/current/ig/node6.html. Typical installation instructions on a Linux machine are: using a terminal, run "./configure" from the main folder, then "cd src/", and finally (as sudo user) run "make install". VMD should now be installed and can be run in a terminal by typing "vmd".


LINUX


1. Add the following line to /usr/local/lib/vmd/scripts/vmd/loadplugins.tcl

vmd_install_extension viewsq      viewsq_tk_cb    "Analysis/viewSq"

2. Copy the folder "viewsq1.0" to /usr/local/lib/vmd/plugins/noarch/tcl

3. Copy the file "Calculate_rdf_stats_py.py" to /usr/local/lib/vmd/scripts/python

Invoke VMD and look for the plug-in under Extensions->Analysis. 

Ensure Python 3.* is the default.


OSX


1. Add the following line to /Applications/VMD 1.9.3.app/Contents/vmd/scripts/loadplugins.tcl

vmd_install_extension viewsq      viewsq_tk_cb    "Analysis/viewSq"

2. Copy the folder "viewsq1.0" to /Applications/VMD 1.9.3.app/Contents/vmd/plugins/noarch/tcl

3. Copy the file "Calculate_rdf_stats_py.py" to /Applications/VMD 1.9.3.app/Contents/vmd/scripts/python

Ensure Python 3.* is the default.


WINDOWS


1. Add the following line to \VMD\scripts\vmd\loadplugins.tcl

vmd_install_extension viewsq      viewsq_tk_cb    "Analysis/viewSq"

2. Copy the folder "viewsq1.0" to \VMD\plugins\noarch\tcl

3. Copy the file "Calculate_rdf_stats_py.py" to \VMD\scripts\python (the folder may need to be created manually)

Invoke VMD and look for the plug-in under Extensions->Analysis. When running viewSq, VMD may require you to specify the location of the Python script from step #3. Ensure Python 3.* is in the Windows path.


&&&&&&&&&&&&&&&&&&&&&&&&
&&& QUICKSTART GUIDE &&&
&&&&&&&&&&&&&&&&&&&&&&&&


Detailed instructions for using viewSq can be found in /viewSq/tutorial.pdf.

viewSq is run using a graphical user interface which is accessible within VMD.

1.  Open VMD.

2.  In the VMD Main window select File, New Molecule…, which will open the Molecule File Browser. From the new window click Browse…, and select spce_final_frame.pdb (found in /viewSq/tutorials/spce_water/spce_final_frame.pdb). VMD should automatically determine the file type to be PDB, however if it does not, select PDB from the drop down menu. Make sure Frames: are set to First 0, Last -1, and Step 1. Select the “Load all at once” radio button, and then press “Load”. The VMD Display window should display the water box. Close Molecule File Browser window.

3.  In the main VMD window, select Extensions, Analysis, viewSq. This opens the viewSq GUI.

4.  In the viewSq GUI select “(none)” next to “Molecule:” and choose “0 spce_10_frames.pdb”.

5.  For “g(r) settings:” set “Frames:” as “First: 0”, “Last: -1”, and “Step: 1”. For “Histogram Parameters:” set “Delta r [Å]: 0.1” and “Max r [Å]: 5.0”. For “S(q) settings:” set “Min q [Å-1]: 2.0”, “Max q [Å-1]: 3.5”, and “Delta q [Å-1]: 0.1”. Leave all other settings as default.

6.  Press "Compute S(q)". Wait a few minutes, following atom count progress printed to terminal.

7.  When the calculation from Step #6 completes, six windows containing plots will appear (e.g. radial distribution function, S(q) with and without form factors, etc.).  The "Selections" portion of the GUI also becomes accessible. 
